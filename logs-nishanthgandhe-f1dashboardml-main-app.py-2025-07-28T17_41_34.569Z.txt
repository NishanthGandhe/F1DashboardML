
[     UTC     ] Logs for f1dashboardml.streamlit.app/
────────────────────────────────────────────────────────────────────────────────────────
[17:38:42] 🖥 Provisioning machine...
[17:38:48] 🎛 Preparing system...
[17:38:55] ⛓ Spinning up manager process...
[17:39:00] 🎈 Inflating balloons...
[17:39:29] 📖 Unpacking Comic Sans RAR files...
[17:38:47] 🚀 Starting up repository: 'f1dashboardml', branch: 'main', main module: 'app.py'
[17:38:47] 🐙 Cloning repository...
[17:38:48] 🐙 Cloning into '/mount/src/f1dashboardml'...

[17:38:48] 🐙 Cloned repository!
[17:38:48] 🐙 Pulling code changes from Github...
[17:38:49] 📦 Processing dependencies...

──────────────────────────────────────── uv ───────────────────────────────────────────

Using uv pip install.
Using Python 3.13.5 environment at /home/adminuser/venv
Resolved 58 packages in 877ms
Prepared 58 packages in 3.98s
Installed 58 packages in 136ms
 + altair==5.5.0
 + attrs==25.3.0
 + blinker==1.9.0
 + cachetools==6.1.0
 + cattrs==25.1.1
 + certifi==2025.7.14
 + charset-normalizer==3.4.2
 + click==8.2.1
 + contourpy==1.3.3
 + cycler==0.12.1
 + fastf1==3.6.0
 + fonttools==4.59.0
 + gitdb==4.0.12
 + [2025-07-28 17:38:54.593086] gitpython==3.1.45
 + idna==3.10
 + jinja2==3.1.6
 + joblib==1.5.1
 + jsonschema==4.25.0[2025-07-28 17:38:54.593336] 
 + jsonschema-specifications==2025.4.1
 + kiwisolver==1.4.8
 + lightgbm==4.6.0
 + markupsafe==3.0.2
 + matplotlib==3.10.3
 + narwhals==2.0.0
 + numpy==2.3.2
 +[2025-07-28 17:38:54.594232]  packaging==25.0
 + pandas==2.3.1
 + pillow==11.3.0
 + platformdirs==4.3.8
 + plotly==6.2.0
 + protobuf==6.31.1
 + [2025-07-28 17:38:54.594421] pyarrow==21.0.0
 + pydeck==0.9.1
 + pyparsing==3.2.3
 + python-dateutil==2.9.0.post0
 + pytz==2025.2
 +[2025-07-28 17:38:54.594578]  rapidfuzz==3.13.0
 + referencing==0.36.2
 + requests==2.32.4
 + requests-cache==1.2.1
 + rpds-py==0.26.0
 + scikit-learn==1.7.1
 + scipy==1.16.1[2025-07-28 17:38:54.595222] 
 + seaborn==0.13.2
 + six==1.17.0
 + smmap==5.0.2
 + streamlit==1.47.1
 + tenacity==9.1.2
 + threadpoolctl==3.6.0
 + timple[2025-07-28 17:38:54.595394] ==0.1.8
 + toml==0.10.2
 + tornado==6.5.1
 + typing-extensions==4.14.1
 + tzdata==2025.2
 + url-normalize==2.2.1
 + urllib3==2.5.0
 + watchdog[2025-07-28 17:38:54.595586] ==6.0.0
 + websockets==13.1
Checking if Streamlit is installed
Found Streamlit version 1.47.1 in the environment
Installing rich for an improved exception logging
Using uv pip install.
Using Python 3.13.5 environment at /home/adminuser/venv
Resolved [2025-07-28 17:38:57.273115] 4 packages[2025-07-28 17:38:57.273563]  [2025-07-28 17:38:57.274124] in 162ms[2025-07-28 17:38:57.276703] 
Prepared [2025-07-28 17:38:57.427241] 4 packages[2025-07-28 17:38:57.427468]  [2025-07-28 17:38:57.427877] in 148ms[2025-07-28 17:38:57.428116] 
Installed [2025-07-28 17:38:57.527702] 4 packages[2025-07-28 17:38:57.528227]  [2025-07-28 17:38:57.528583] in 94ms[2025-07-28 17:38:57.528913] 
 [2025-07-28 17:38:57.529618] +[2025-07-28 17:38:57.529926]  [2025-07-28 17:38:57.530242] markdown-it-py[2025-07-28 17:38:57.530560] ==[2025-07-28 17:38:57.530906] 3.0.0[2025-07-28 17:38:57.531220] 
 [2025-07-28 17:38:57.532076] +[2025-07-28 17:38:57.534578]  [2025-07-28 17:38:57.534931] mdurl[2025-07-28 17:38:57.535259] ==[2025-07-28 17:38:57.535594] 0.1.2[2025-07-28 17:38:57.535963] 
 [2025-07-28 17:38:57.536692] +[2025-07-28 17:38:57.536984]  [2025-07-28 17:38:57.537385] pygments[2025-07-28 17:38:57.537813] ==[2025-07-28 17:38:57.540289] 2.19.2[2025-07-28 17:38:57.541011] 
 + rich==14.1.0

────────────────────────────────────────────────────────────────────────────────────────

[17:38:58] 🐍 Python dependencies were installed from /mount/src/f1dashboardml/requirements.txt using uv.
Check if streamlit is installed
Streamlit is already installed
[17:38:59] 📦 Processed dependencies!



────────────────────── Traceback (most recent call last) ───────────────────────
  /home/adminuser/venv/lib/python3.13/site-packages/pandas/core/indexes/base.p  
  y:3812 in get_loc                                                             
                                                                                
    3809 │   │   """                                                            
    3810 │   │   casted_key = self._maybe_cast_indexer(key)                     
    3811 │   │   try:                                                           
  ❱ 3812 │   │   │   return self._engine.get_loc(casted_key)                    
    3813 │   │   except KeyError as err:                                        
    3814 │   │   │   if isinstance(casted_key, slice) or (                      
    3815 │   │   │   │   isinstance(casted_key, abc.Iterable)                   
                                                                                
  in pandas._libs.index.IndexEngine.get_loc:167                                 
                                                                                
  in pandas._libs.index.IndexEngine.get_loc:196                                 
                                                                                
  in pandas._libs.hashtable.PyObjectHashTable.get_item:7088                     
                                                                                
  in pandas._libs.hashtable.PyObjectHashTable.get_item:7096                     
────────────────────────────────────────────────────────────────────────────────
KeyError: 'DriverName'

The above exception was the direct cause of the following exception:

────────────────────── Traceback (most recent call last) ───────────────────────
  /home/adminuser/venv/lib/python3.13/site-packages/streamlit/runtime/scriptru  
  nner/exec_code.py:128 in exec_func_with_error_handling                        
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/streamlit/runtime/scriptru  
  nner/script_runner.py:669 in code_to_exec                                     
                                                                                
  /mount/src/f1dashboardml/app.py:861 in <module>                               
                                                                                
    858 │   )                                                                   
    859                                                                         
    860 if __name__ == "__main__":                                              
  ❱ 861 │   main()                                                              
    862                                                                         
                                                                                
  /mount/src/f1dashboardml/app.py:180 in main                                   
                                                                                
    177 │   │   if not lap_data.empty:                                          
    178 │   │   │   # Summary statistics                                        
    179 │   │   │   if show_summary_stats:                                      
  ❱ 180 │   │   │   │   metrics = create_summary_metrics(lap_data, session_inf  
    181 │   │   │   │                                                           
    182 │   │   │   │   if metrics:                                             
    183 │   │   │   │   │   col1, col2, col3, col4 = st.columns(4)              
                                                                                
  /mount/src/f1dashboardml/utils/plotting.py:395 in create_summary_metrics      
                                                                                
    392 │   fastest_lap = lap_data.loc[lap_data['LapTimeSeconds'].idxmin()]     
    393 │   driver_code = fastest_lap.get('Driver', fastest_lap.get('Abbreviat  
    394 │   metrics['fastest_lap'] = {                                          
  ❱ 395 │   │   'driver': f"{fastest_lap['DriverName']} ({driver_code})",       
    396 │   │   'time': f"{int(fastest_lap['LapTimeSeconds']//60)}:{fastest_la  
    397 │   │   'lap': fastest_lap['LapNumber']                                 
    398 │   }                                                                   
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/pandas/core/series.py:1130  
  in __getitem__                                                                
                                                                                
    1127 │   │   │   return self._values[key]                                   
    1128 │   │                                                                  
    1129 │   │   elif key_is_scalar:                                            
  ❱ 1130 │   │   │   return self._get_value(key)                                
    1131 │   │                                                                  
    1132 │   │   # Convert generator to list before going through hashable par  
    1133 │   │   # (We will iterate through the generator there to check for s  
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/pandas/core/series.py:1246  
  in _get_value                                                                 
                                                                                
    1243 │   │   │   return self._values[label]                                 
    1244 │   │                                                                  
    1245 │   │   # Similar to Index.get_value, but we do not fall back to posi  
  ❱ 1246 │   │   loc = self.index.get_loc(label)                                
    1247 │   │                                                                  
    1248 │   │   if is_integer(loc):                                            
    1249 │   │   │   return self._values[loc]                                   
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/pandas/core/indexes/base.p  
  y:3819 in get_loc                                                             
                                                                                
    3816 │   │   │   │   and any(isinstance(x, slice) for x in casted_key)      
    3817 │   │   │   ):                                                         
    3818 │   │   │   │   raise InvalidIndexError(key)                           
  ❱ 3819 │   │   │   raise KeyError(key) from err                               
    3820 │   │   except TypeError:                                              
    3821 │   │   │   # If we have a listlike key, _check_indexing_error will r  
    3822 │   │   │   #  InvalidIndexError. Otherwise we fall through and re-ra  
────────────────────────────────────────────────────────────────────────────────
KeyError: 'DriverName'